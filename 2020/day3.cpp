#include <iostream>
#include <vector>

using namespace std;

int findAndCountTrees(const vector<string> &areaWithTrees, int rightSlope, int downSlope) {
    int treesCount = 0;
    int areaWidth = areaWithTrees[0].size();
    int currentHorizontalPos = 0;
    for (int i = 0; i < areaWithTrees.size(); i += downSlope) {
        treesCount += (areaWithTrees[i][currentHorizontalPos] == '#');
        currentHorizontalPos = (currentHorizontalPos + rightSlope) % areaWidth;
    }
    return treesCount;
}

void runDay3() {
    // https://adventofcode.com/2020/day/3
    const vector<string> areaWithTrees = {
            "........#....#..##..#...#.....#",
            "...............#....##........#",
            ".#....##...##..#...............",
            ".#.......#......#.##..##...#...",
            ".....#.#....#..##...#.....#....",
            "...#.#..##...###......#..#..#.#",
            ".....#..##........#.##......#..",
            "..##.....###.........##........",
            "..............##..#.#.#.#......",
            ".#....##..#.##.#....#..#.#..#..",
            ".#.#....#.##.#...#....#.....#..",
            "..#...#.#.....#....#.......##..",
            ".#.#..##.....#...........#.....",
            ".#.##...#.....#......#.##......",
            "..#..#..........#.....#..###.#.",
            "##....##....#.#...........#..#.",
            ".....#.#.......#.#.#..#.##....#",
            "...##.#....#..#.....#.........#",
            ".....#........#.##...#.........",
            ".....#................#.#...#..",
            "...#....##.....##....#.......#.",
            "....##.#.....#.#.......#.......",
            "#...............#..#...........",
            ".......###.#.......#.##....#.#.",
            "..#........###........#......#.",
            ".#.......#...##.....####....##.",
            "..##.#....#.....#..#....#......",
            "..#...#..#.#..##...#.....#.....",
            ".#.......###.......#....#......",
            "...#...#.......#........#...#.#",
            "..#....#...#.......#.#..##.....",
            "##............#.#..#..........#",
            ".......###...##..#.....#....#..",
            "##..######.#..#.......###....##",
            "###..#...#.##......##....#...#.",
            "..............##.###..........#",
            ".....#........##.#.###....#....",
            "..#...#.....##.#......#.#..#.#.",
            "#....#.............#.#.........",
            ".........##.#........#...#.....",
            "..........#..##.#.#.....#..##..",
            "........##......#..#..#...#.#..",
            ".##.......#..#.#...#.####..#...",
            "##...#........#.###...##....#..",
            "....###.####...#..#..#......###",
            "#....#....#.#.....##.........#.",
            "#.......#....#....##...........",
            "##...##.#.......#....#...#....#",
            "....#....#........##..#.#..#.#.",
            "..##.....##...#..........#...#.",
            ".#.#.#...#.....##..#........#..",
            "#....#.....#..........#....#...",
            "...##.#.......#.#.........#....",
            "##.##.........##.....##.....##.",
            "##.#..##..#...##........##.....",
            ".........##.......#....#...#...",
            ".#.....#........####.#.#.....#.",
            "...........##..#.###...........",
            "..#....##....#...#.............",
            "#.#............#.......#.......",
            ".##........#...#..##.....#.#...",
            "#.##..............##..##.......",
            "##.........#......#......#..#..",
            "##.#....#...#....##....#..#.##.",
            "......#...#..#.#...#.#....#.##.",
            "##.......#.....#.........#.....",
            "...##...#................#.#...",
            "....#.####...#.#.....##....##.#",
            "#...#..#.#.##................##",
            ".........##.....##...#..#......",
            "......####....#.##.#.....#.....",
            "...#..#.#....#.#.#..#..........",
            ".....#........##...#.##....#.#.",
            "..##......#...................#",
            ".....#..#...............#..#...",
            "....#........#..#.#...##...#.##",
            "..#.#.......#.##.........#...#.",
            "...##......#.#.................",
            ".#....#...#.............##.#...",
            "........#.##...#..#...###.....#",
            "#....#.#........##....#......##",
            ".###.......#..#..........#..#..",
            "#....#..#....#........#...#...#",
            "##.#.###.##.#...##.#......#.#.#",
            "#..#..#..##........#..###.#...#",
            "....#..#..#.....#...##....#...#",
            ".......##.......#..#.##...##..#",
            ".##....#..###................##",
            "#...#.##.##...#.##......##.....",
            "...##.....##..##...#..#........",
            "...............##.....##.......",
            ".#..#.#..#....#.....#..#...#...",
            ".#....#..#........#.#...#.....#",
            "##.....####..#......#..........",
            "........#.........#.........#..",
            "#...####....#.##...#....#...##.",
            ".#....####..#...##..#......####",
            "...........##.##..#.##...##....",
            "..#..#.......#.##....#.#...#.##",
            "#...........#..#...............",
            ".......#.##..#.....##......#...",
            "....##.#.##.....#...........#.#",
            ".............#.##..#...#......#",
            "#......#...........#........#..",
            "#.#..#.............#...#.......",
            "#.........##...#....#...##.....",
            "##...#..#..#..#....#...........",
            ".#.....#........#.....#.##..#.#",
            "...#..............##.####.#..#.",
            "##.....#..#.#..#..##...........",
            "...#...#.......#...............",
            "..#..................###..#..##",
            "....###..........#.#..#...#.#.#",
            "..#..#..#.#..........#.#......#",
            "....#....#.#...#.###...##..#...",
            "....#.......#...#....##........",
            ".#.....#.......###....#........",
            "....#..#..#.....#......#.......",
            "......#...#..#....#.#.......#..",
            ".##.#..#...#.#.#...........#...",
            "..#....##.#....#.#....#...#.#.#",
            "...##..#.......#....#.#.....##.",
            "##.#......#.#.......##...#.....",
            "......#...#.##..............#..",
            ".##.........#......##.#..#....#",
            "#.......#.....#...##...#..#...#",
            "..#..##.......#......#......##.",
            "#..##...###.#.#...........#....",
            "##......#.....####..#..#....#.#",
            ".......##...##.#...#...........",
            "....#..#.##.#.....#.#....#.#...",
            "....#.....#.....####...#..#.##.",
            ".##..#..#..###...#....#.##.#.#.",
            "..#.#.##..........##...........",
            "#.##.#.#....#.##....#..#...##.#",
            "#...#....#...###....#.......#..",
            ".......#..#............#.......",
            "................##.#.#.....#..#",
            "..........................#....",
            ".##....##...#.#....####..#....#",
            "......#...#....#...#.##..###.#.",
            ".........#............#.......#",
            ".#.#..#........#..#.........#..",
            "#..#...#......#.#....#..#.#....",
            "...........#.................#.",
            ".#.#..#...##..###......##....##",
            ".#.#.##......####.........##...",
            "..#....#.#..#................#.",
            "##.......#....#.........##.#.#.",
            "##..#.###...........#..#.#..#.#",
            "...#............##.#....#......",
            "...#................##.#..#....",
            "....#..##.#...#.#.....#.......#",
            "......#......#.#........#..##..",
            "...##...#.....#.##.......#.....",
            "##...#...#.............#..#....",
            "..#...##.....#..........#..#.##",
            "#.##...#..................#.###",
            ".........#..........#.###...#.#",
            "#..#.....#.#.#....#......#...#.",
            ".............#.##..###.....#.##",
            "..#..#.....#..#.............#..",
            ".#.....##.#.#..#.........#.....",
            "..#.......#....#.....##.#......",
            ".#.........#..#....##...#.##...",
            ".##..##................###....#",
            ".#..##..............#...#......",
            ".#..............#.##....##.....",
            ".#......#..#..##..#...###.....#",
            "................##...#.#..#...#",
            "##.#.......#...................",
            "....#.#.......#..#.##..........",
            "....###............##...#......",
            ".......#....#.#.....##.#.....#.",
            "....#...............#.#........",
            "..#.##....#.#.#......##..#.....",
            ".##......#...#.#..#..#.......#.",
            "....#...#........#.#..##.......",
            ".##...###.#....#..........##..#",
            "..#.......##..#.....###......#.",
            "...#.#..##.#.#...........#.....",
            "##........#.#..##.........#..#.",
            ".....###.......#..#.#.....##.#.",
            "..#...##.#..............#......",
            "......#...#...............##.#.",
            "##...#..#....#...#.####.##.....",
            "...#............#.##...........",
            "...#........##.#.##.......#....",
            "...#..#..##....#...#......#..#.",
            "#.....#..#......#.#.....##.#.#.",
            ".....#.##......#...#..#..###..#",
            "...........##..##.#.#..........",
            "...#........##........##..##.#.",
            "......###...#.....#..###.#..#..",
            "#.....#.#....#...##....##.....#",
            ".##....#......#.....#.#..##.##.",
            "##....###.......#...##.......##",
            "...##......#....###............",
            "..#...#...#.#..#..........##.#.",
            "#.#.###...#..#.....#....#.###..",
            "..##.....#.#.#.......#.........",
            "...####..#....#..#.........#...",
            ".##...........#.##.#...#.#.##..",
            "...#.#....#.##......#........#.",
            "##....##....#..#...#..#.#......",
            "#......#..#...#...#.#.#.#.####.",
            "....##.#.#.....#.###........#..",
            "....##..#.#.#.#....#....#.#..#.",
            "..#.###..#............##..#.#..",
            "...#...#..#...#.#.#.....#.....#",
            "..........#.....#..#.......##.#",
            "..............##...........#...",
            ".......#.....#...#.....#.....#.",
            ".#.###.....##......##....#...#.",
            ".....#.........#.#....#........",
            "..#.#....#.##...#.##....##...#.",
            "...#......#.#.....#.......###..",
            "#.##....##.....#.#.#...#......#",
            "#..#...#..........#.........##.",
            "....#.#.#.#.....#...###........",
            "#.#..#...#......#...#.##...####",
            ".#...#......#....##...#........",
            "..#.........#............#...#.",
            "##......#..#...#....#.##....#..",
            ".#...##..#..##.#.#.#........#.#",
            ".##.........###...#......#..###",
            "...##.....##..#.#.........#....",
            "...........##........#...#.....",
            "..##..#...#..#..#.....#......#.",
            "..#..#.#....#.....#..#.##...#..",
            "#....#........##..........#.###",
            "......#...#...#....#...##.#....",
            "...#......#.#.....##......##...",
            "#....#..##............#....#.#.",
            "...#...##.#..........##........",
            "......#.###......#...#.#.......",
            "..................#.##..#..#..#",
            "....#.....#...#.....#...#....#.",
            ".#....##.#..#..#.....###.##...#",
            "#.......#..#....##.##.#.....##.",
            "..##........##...#.....#....##.",
            "#.........#...........##.#.....",
            ".#....#.#...##..###..........#.",
            "....##..##....####...#......#..",
            "##.##..#..#....#....####...#...",
            "..#...............#.##.........",
            "...#.#....#..#....#......#.....",
            ".#..#...#........#...#.....##..",
            "#.....###.......#.....#........",
            "...#.##..#.......#....#........",
            "....##..###.##...#.#....#.#....",
            "#.####...#.......#.....#.#....#",
            "#.......#......#.......#.#.#...",
            "##....#......#..#...#..#..####.",
            ".##.....#........#..#...#......",
            "#.#.#....#....#...#.##..##.....",
            "....#..#.........###.##.##.....",
            "...##...##.###..#..##.....#.###",
            "..###.......................#..",
            "......##..#.#.........#......#.",
            ".###......##....#.....#.......#",
            ".....#..#..##........#......##.",
            "..##.....#....#.#.............#",
            "..##.........##.#..#.........##",
            "......#......#.#......#........",
            ".#...#..#......##...#..#....#..",
            "...............###............#",
            "#.####.#....#...#...........#.#",
            "............................#.#",
            ".#..#...#.#.#.###..##.....##...",
            "....##...#.................##..",
            "......##....#...............##.",
            ".#......#.##.#..#.....##...##..",
            ".............#........#......#.",
            "#..........#.#....#####.#...#.#",
            ".#.#...##..#.#...#.#..#.#..#...",
            "#.##.......##......#.#.#....#..",
            "##.....##.#.#.##..........##..#",
            "....##..#.#.......#....#.##....",
            "..#.#.#...#.....#.......#......",
            ".#....#..#...........###.......",
            "#.#...#.....#......#...#.....#.",
            "#........#.#..........#...#.#..",
            "...#...#....#.........#........",
            ".....................#..##.....",
            "...#......##........#.##.#.#.##",
            ".............###...#.#...#..#..",
            ".#..##........##....#...###..##",
            ".#..#.#...............#.....##.",
            "...........##.#....#..##.#....#",
            ".##.#.#..#.#..#...#.#.#..#.#.##",
            ".......#.#..#..#..#..#...#.....",
            ".#......##............#.#..#...",
            "..#...#..##..#..#...##......#..",
            "...##......##....#............#",
            ".......#.....##...##.#...#..#..",
            "......#.......#..##.........#..",
            "..#...#.#.....#.#.......#.#...#",
            ".#......##.##.#.#.#.##..#....##",
            "#.....#.........#.#....#....##.",
            ".......#.........#....#..#.#.##",
            ".....##....#..#.#.#...#.....##.",
            "#####.#.......######......#....",
            "..##.#.......#.#..............#",
            "..#.##....#.....#...#.#...##...",
            ".....#...#..#....#.#..#........",
            ".#....#.#..#.#.#.##..#.......#.",
            "....#..#..#..........##...#....",
            ".......#.#......#........#.....",
            "##.#.#.###....##.#..#..#....#..",
            "#.##......#..#.......#.#...#...",
            "..##...#.......#.......#...#...",
            "........##.........#.#....#.#..",
            "..#...#..##.#.#.#...#....#.....",
            ".###......#........#....#...#..",
            ".#.......##......###..##.......",
            "#....#.#....#.##.........####..",
            "......#..........#..##.....#...",
            ".............#......#..##.#....",
            "...................#....#...#..",
            ".#..........#...#.#..##...#....",
            ".....#...#..........##.##......",
            "#...#..#.##........#...#......."
    };
    const vector<string> areaWithTrees1 = {
            "..##.......",
            "#...#...#..",
            ".#....#..#.",
            "..#.#...#.#",
            ".#...##..#.",
            "..#.##.....",
            ".#.#.#....#",
            ".#........#",
            "#.##...#...",
            "#...##....#",
            ".#..#...#.#"
    };

    long part1answer = findAndCountTrees(areaWithTrees, 3, 1);
    cout << "Day 3: findAndCountTrees = " << part1answer;

    long long part2answer = findAndCountTrees(areaWithTrees, 1, 1) * part1answer;
    part2answer *= findAndCountTrees(areaWithTrees, 5, 1);
    part2answer *= findAndCountTrees(areaWithTrees, 7, 1);
    part2answer *= findAndCountTrees(areaWithTrees, 1, 2);
    cout << ", findAndCountTrees part 2 = " << part2answer << endl;
}